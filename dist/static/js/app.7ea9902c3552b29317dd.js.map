{"version":3,"sources":["webpack:///./src/App.vue?e872","webpack:///./src/App.vue?7f9c","webpack:///./src/App.vue","webpack:///./src/libs/util.js","webpack:///./src/api/fetch.js","webpack:///./src/api/wxmp.js","webpack:///./src/components/Support.vue","webpack:///./src/components/Support.vue?a1e8","webpack:///./src/components/Support.vue?7375","webpack:///./src/components/NotFound.vue?24f4","webpack:///./src/components/NotFound.vue","webpack:///./src/libs/wechat.js","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","setToken","token","localStorage","setItem","getToken","getItem","getUserInfo","userinfo","JSON","parse","axiosInstance","a","create","baseURL","timeout","interceptors","request","use","config","headers","common","error","promise_default","reject","response","newToken","data","status","fetch","url","params","method","wxmp","oauth2","login","starlist","jssdk","wxpay","components_Support","obj","currentId","payItems","money","hotValue","methods","checkOne","Pay","_this","asyncToGenerator_default","regenerator_default","mark","_callee","_getUserInfo","openid","unionid","total_fee","body","res","wrap","_context","prev","next","console","log","find","v","stringify_default","msg","chooseWXPayAsync","sent","t0","stop","mounted","_this2","_callee2","_context2","selectortype_template_index_0_src_components_Support","_vm","staticClass","_v","_s","_l","item","i","key","type","domProps","checked","on","click","$event","src_components_Support","Support_normalizeComponent","selectortype_template_index_0_src_components_NotFound","src_components_NotFound","NotFound_normalizeComponent","jsApiList","wechat","then","code","wxconfig","debug","appId","app_id","timestamp","nonceStr","nonce_str","signature","vue_esm","vue_router_esm","router","base","routes","path","component","meta","title","beforeEach","to","from","document","toUrl","extends_default","query","_res$data$data","util_setUserInfo","window","location","href","origin","fullPath","_to$quert","quert","userId","state","afterEach","_url","src_router","plugins_wechat","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.7ea9902c3552b29317dd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21227877\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21227877\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21227877\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: 'App'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.vue","// import { forEach, hasOneOf } from '@/libs/tools'\r\n\r\nexport const TOKEN_KEY = 'token'\r\nexport const TOURL_KEY = 'tourl'\r\nexport const USER_INFO_KET = 'userinfo'\r\n\r\nexport const setToken = (token) => {\r\n  localStorage.setItem(TOKEN_KEY, token)\r\n}\r\n\r\nexport const getToken = () => {\r\n  const token = localStorage.getItem(TOKEN_KEY)\r\n  if (token) return token\r\n  else return false\r\n}\r\n\r\nexport const setUserInfo = (userinfo) => {\r\n  localStorage.setItem(USER_INFO_KET, JSON.stringify(userinfo))\r\n}\r\n\r\nexport const getUserInfo = () => {\r\n  const userinfo = localStorage.getItem(USER_INFO_KET)\r\n  if (userinfo) return JSON.parse(userinfo)\r\n  else return false\r\n}\r\n\r\nexport const setToUrl = (toUrl) => {\r\n  localStorage.setItem(TOURL_KEY, toUrl)\r\n}\r\n\r\nexport const getToUrl = () => {\r\n  return localStorage.getItem(TOURL_KEY)\r\n}\r\n\r\nexport const hasChild = (item) => {\r\n  return item.children && item.children.length !== 0\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/util.js","import axios from 'axios'\r\nimport { getToken, setToken } from '@/libs/util'\r\n\r\nconst ajaxUrl = process.env.NODE_ENV === 'development'\r\n  // 测试环境api接口\r\n  ? 'http://localhost:5757/wx'\r\n  // 线上环境api接口\r\n  : 'http://localhost:5757/wx'\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: ajaxUrl,\r\n  timeout: 30000\r\n})\r\n\r\naxiosInstance.interceptors.request.use(config => {\r\n  /**\r\n   * 在这里做loading ...\r\n   * @type {string}\r\n   */\r\n\r\n  // 获取token\r\n  const token = getToken()\r\n  if (token) {\r\n    config.headers.common['Authorization'] = `Bearer ${token}`\r\n  }\r\n  return config\r\n}, error => {\r\n  return Promise.reject(error)\r\n})\r\n\r\naxiosInstance.interceptors.response.use(response => {\r\n  /**\r\n   * 在这里做loading 关闭\r\n   */\r\n\r\n  // 如果后端有新的token则重新缓存\r\n  let newToken = response.headers['new-token']\r\n\r\n  if (newToken) {\r\n    setToken(newToken)\r\n  }\r\n  return response.data\r\n}, error => {\r\n  let response = error.response\r\n  if (response.status === 401) {\r\n    // 处理401错误\r\n  } else if (response.status === 302) {\r\n    // 处理302错误\r\n  }\r\n  return Promise.reject(response)\r\n})\r\n\r\nexport default {\r\n  post (url, data) {\r\n    return axiosInstance({\r\n      method: 'post',\r\n      url: url,\r\n      data: data\r\n    })\r\n  },\r\n\r\n  get (url, params) {\r\n    return axiosInstance({\r\n      method: 'get',\r\n      url: url,\r\n      params\r\n    })\r\n  },\r\n\r\n  delete (url, params) {\r\n    return axiosInstance({\r\n      method: 'delete',\r\n      url: url,\r\n      params\r\n    })\r\n  },\r\n\r\n  put (url, data) {\r\n    return axiosInstance({\r\n      method: 'put',\r\n      url: url,\r\n      data: data\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/fetch.js","import fetch from './fetch'\r\n\r\nexport default {\r\n  // 获取微信授权地址\r\n  oauth2 (params) {\r\n    return fetch.get('/oauth2', params)\r\n  },\r\n\r\n  // 用户登录\r\n  login (params) {\r\n    return fetch.get('/login', params)\r\n  },\r\n\r\n  starlist (params) {\r\n    return fetch.get('/starList', params)\r\n  },\r\n\r\n  // 获取JSSDK\r\n  jssdk (params) {\r\n    return fetch.get('/jssdk', params)\r\n  },\r\n\r\n  // 统一下单\r\n  wxpay (params) {\r\n    return fetch.get('/unified', params)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/wxmp.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { getUserInfo } from '@/libs/util'\r\nimport wxmp from '@/api/wxmp'\r\nexport default {\r\n  data () {\r\n    return {\r\n      obj: '',\r\n      currentId: 2,\r\n      payItems: [{\r\n        id: 0,\r\n        money: 2,\r\n        hotValue: 30\r\n      }, {\r\n        id: 1,\r\n        money: 5,\r\n        hotValue: 100\r\n      }, {\r\n        id: 2,\r\n        money: 10,\r\n        hotValue: 300\r\n      }, {\r\n        id: 3,\r\n        money: 20,\r\n        hotValue: 700\r\n      }, {\r\n        id: 4,\r\n        money: 50,\r\n        hotValue: 2000\r\n      }, {\r\n        id: 5,\r\n        money: 100,\r\n        hotValue: 5000\r\n      }]\r\n    }\r\n  },\r\n  methods: {\r\n    checkOne (id) {\r\n      this.currentId = id\r\n    },\r\n    async Pay () {\r\n      console.log(this.payItems.find(v => v.id === this.currentId).money)\r\n      try {\r\n        const {openid, unionid} = getUserInfo()\r\n        console.log(`用户openid：${openid},unionid:${unionid}发起支付`)\r\n        // eslint-disable-next-line\r\n        const total_fee = 1\r\n        const body = JSON.stringify({msg: '测试', openid, unionid})\r\n        const res = await wxmp.chooseWXPayAsync(total_fee, body)\r\n        console.log(`支付成功${JSON.stringify(res)}`)\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n  },\r\n  async mounted () {\r\n    // https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxfbb29b02f3f076b8&redirect_uri=http%3A%2F%2Fwww.pkfis.cn%2Fwx%2Fpublic%2FSupport&response_type=code&scope=snsapi_userinfo&state=123#wechat_redirect\r\n    // const {code} = JSON.parse(localStorage.getItem('query'))\r\n    // console.log(code)\r\n    // const loginRes = await utils.get('/login', {'code': code})\r\n    // console.log(loginRes)\r\n    // this.obj = JSON.stringify(loginRes)\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Support.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"support-container\"},[_c('div',{staticClass:\"user\"},[_c('p',[_vm._v(_vm._s(_vm.obj))])]),_vm._v(\" \"),_c('h3',[_vm._v(\"为TA冲榜\")]),_vm._v(\" \"),_c('div',{staticClass:\"star\"}),_vm._v(\" \"),_c('div',{staticClass:\"pay-container\"},_vm._l((_vm.payItems),function(item,i){return _c('div',{key:i,staticClass:\"pay-item\"},[_c('div',[_vm._v(_vm._s(item.money)+\"元(+\"+_vm._s(item.hotValue)+\"热度)\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"checkbox\",\"name\":\"checkboxinput\"},domProps:{\"checked\":item.id == _vm.currentId},on:{\"click\":function($event){_vm.checkOne(item.id)}}})])})),_vm._v(\" \"),_c('button',{staticClass:\"btn subpay\",on:{\"click\":_vm.Pay}},[_vm._v(\"用爱发电1\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8d560eee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Support.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8d560eee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Support.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Support.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Support.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8d560eee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Support.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8d560eee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Support.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',[_vm._v(\"404 NotFound\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b39aed0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NotFound.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NotFound.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NotFound.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b39aed0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NotFound.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NotFound.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport wxmp from '../api/wxmp'\r\nconst jsApiList = ['chooseWXPay']\r\n\r\nexport default {\r\n  // 获取JSSDK\r\n  getJSSDK (url) {\r\n    wxmp.jssdk({url: url}).then(res => {\r\n      res = res.data\r\n      if (res.code === -1) console.log(res.data.msg)\r\n      const wxconfig = {\r\n        debug: false,\r\n        appId: res.data.app_id,\r\n        timestamp: res.data.timestamp,\r\n        nonceStr: res.data.nonce_str,\r\n        signature: res.data.signature,\r\n        jsApiList: jsApiList\r\n      }\r\n      Vue.wechat.config(wxconfig)\r\n    })\r\n  },\r\n  getJSSDKAsync (url) {\r\n    return new Promise((resolve) => {\r\n      wxmp.jssdk({url: url}).then(res => {\r\n        res = res.data\r\n        if (res.code === -1) console.log(res.data.msg)\r\n        const wxconfig = {\r\n          debug: false,\r\n          appId: res.data.app_id,\r\n          timestamp: res.data.timestamp,\r\n          nonceStr: res.data.nonce_str,\r\n          signature: res.data.signature,\r\n          jsApiList: jsApiList\r\n        }\r\n        Vue.wechat.config(wxconfig)\r\n        resolve()\r\n      })\r\n    })\r\n  },\r\n  // eslint-disable-next-line\r\n  chooseWXPayAsync (total_fee, body) {\r\n    return new Promise((resolve) => {\r\n      wxmp.unified({total_fee, body, origin: 'PLATFORM'}).then(res => {\r\n        res = res.data\r\n        if (res.code === -1) console.log(res.data.msg)\r\n        Vue.wechat.chooseWXPay({\r\n          timestamp: res.data.timestamp, // 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\r\n          nonceStr: res.data.nonceStr, // 支付签名随机串，不长于 32 位\r\n          package: res.data.package, // 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\r\n          signType: res.data.signType, // 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\r\n          paySign: res.data.paySign, // 支付签名\r\n          success: function (res) {\r\n          // 支付成功后的回调函数\r\n            resolve(res)\r\n          }\r\n        })\r\n      })\r\n    })\r\n  }\r\n  // setWxShare (title, desc, link, imgUrl) {\r\n  //   Vue.wechat.ready(() => {\r\n  //     // 分享给朋友\r\n  //     Vue.wechat.onMenuShareAppMessage({\r\n  //       title: title, // 分享标题\r\n  //       desc: desc, // 分享描述\r\n  //       link: link, // 分享链接 默认以当前链接\r\n  //       imgUrl: imgUrl, // 分享图标\r\n  //       success () {\r\n  //       },\r\n  //       cancel () {\r\n  //       }\r\n  //     })\r\n  //     // 分享到朋友圈\r\n  //     Vue.wechat.onMenuShareTimeline({\r\n  //       title: title, // 分享标题\r\n  //       desc: desc, // 分享描述\r\n  //       link: link, // 分享链接 默认以当前链接\r\n  //       imgUrl: imgUrl, // 分享图标\r\n  //       success () {\r\n  //       },\r\n  //       cancel () {\r\n  //       }\r\n  //     })\r\n  //   })\r\n  // }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/wechat.js","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Support from '@/components/Support'\r\nimport NotFound from '@/components/NotFound'\r\nimport { getToken, setToken, setToUrl, getToUrl, setUserInfo } from '@/libs/util'\r\nimport wxmp from '../api/wxmp'\r\nimport wechat from '@/libs/wechat'\r\n\r\nVue.use(Router)\r\n\r\nconst router = new Router({\r\n  base: '/page',\r\n  routes: [\r\n    {\r\n      path: '/Support',\r\n      name: 'Support',\r\n      component: Support,\r\n      meta: {\r\n        title: '充值打榜'\r\n      }\r\n    }, {\r\n      path: '*',\r\n      component: NotFound,\r\n      meta: {\r\n        title: '找不到页面'\r\n      }\r\n    }\r\n  ]\r\n})\r\n\r\nconst OAUTH2 = 'oauth2'\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  document.title = to.meta.title\r\n  const token = getToken()\r\n  if (!token && to.name !== OAUTH2) { // 尚未授权\r\n    setToUrl(to.fullPath)\r\n    // api接口请求微信授权地址\r\n    // ?code=商户code&userid=用户id\r\n    // code区分商户,userid用于分享\r\n    const {code, userId} = {...to.quert}\r\n    let params = {\r\n      state: `${to.fullPath}-${code}-${userId}`\r\n    }\r\n    wxmp.oauth2(params).then(res => {\r\n      window.location.href = res.data.data\r\n    })\r\n  } else if (!token && to.name === OAUTH2) { // 授权页面回调\r\n    // ?code=CODE&state=STATE\r\n    let params = { ...to.query }\r\n    // api 接口登录\r\n    wxmp.login(params).then(res => {\r\n      const {token, userinfo} = res.data.data\r\n      setToken(token)\r\n      setUserInfo(userinfo)\r\n      window.location.href = window.location.origin + getToUrl()\r\n    })\r\n  }\r\n})\r\n\r\nrouter.afterEach(to => {\r\n  let _url = window.location.origin + to.fullPath\r\n  wechat.getJSSDK(_url)\r\n})\r\n\r\nexport default router\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\n\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport WechatPlugin from 'vux/src/plugins/wechat/index.js'\n\n\nVue.use(WechatPlugin)\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\nel: '#app',\nrouter,\ncomponents: { App },\ntemplate: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}